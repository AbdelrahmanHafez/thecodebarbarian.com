<html><head><script type="text/javascript">var _sf_startpt=(new Date()).getTime()
</script><title>Generating REST APIs and Clients with LoopBack and AngularJS | www.thecodebarbarian.com</title><meta name="viewport" content="width=device-width, initial-scale=1"/><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css"/><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600" rel="stylesheet" type="text/css"/><link href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,600,700" rel="stylesheet" type="text/css"/><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/><link href="/style/style.css" rel="stylesheet" type="text/css"/><script href="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script><script href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script><script href="/javascript/sidebar.js" type="text/javascript"></script><meta property="og:title" content="Generating REST APIs and Clients with LoopBack and AngularJS"/><meta property="og:url" content="http://www.thecodebarbarian.com/2015/01/17/loopback-angularjs"/><meta property="og:image" content="//meaas.org/wp-content/uploads/2013/10/strongloop-loopback_BlogPrimary.jpg"/><meta property="og:site_name" content="The Code Barbarian"/></head><body><div class="navbar social-links hidden-sm hidden-xs"><div class="container"><ul class="nav navbar-nav navbar-right"><li><a href="http://www.twitter.com/code_barbarian">twitter</a></li><li><a href="http://www.github.com/vkarpov15">github</a></li></ul></div></div><div id="nav" class="navbar"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#home-nav-mobile" class="btn btn-default navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand big-brand"><img src="/images/Barbarian_Head.png" class="logo"/><span class="site-name">The Code Barbarian  </span></a></div><div id="home-nav-mobile" class="navbar-right collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/tag/mongodb">MongoDB</a></li><li><a href="/tag/angularjs">AngularJS</a></li><li><a href="/tag/nodejs">NodeJS</a></li><li><a href="/tag/paleo">Paleo</a></li><li class="hidden-md hidden-lg"><a href="#">@code_barbarian</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Github</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Facebook</a></li></ul></div></div></div><div class="container-fluid"><div id="desktop-right-bar" class="col-lg-3 col-lg-offset-9 right-bar"><div class="right-bar-content-slider pull-right"><div class="row search-container"><div class="col-lg-12"><div class="form-group"></div><label>Search</label><form onsubmit="window.location.href = 'https://www.google.im/search?q=' + encodeURIComponent(document.getElementById('searchQ').value) + '+site:thecodebarbarian.com'; return false;"><div class="input-group"><input id="searchQ" type="text" class="form-control"/><div class="input-group-addon search-button"><i class="fa fa-search"></i></div></div></form></div></div><div class="row recent-posts right-bar-group"><div class="col-lg-12"><p class="right-bar-label">All Time Most Popular </p><ul class="list-unstyled"><li class="right-bar-li"><a href="/2013/07/22/introduction-to-the-mean-stack-part-one-setting-up-your-tools/">Introduction to the MEAN Stack, Part One: Setting Up Your Tools</a></li><li class="right-bar-li"><a href="/2013/09/23/the-8020-guide-to-writing-angularjs-directives/">The 80/20 Guide to Writing AngularJS Directives</a></li><li class="right-bar-li"><a href="/2013/07/29/introduction-to-the-mean-stack-part-two-building-and-testing-a-to-do-list/">Introduction to the MEAN Stack, Part Two: Building and Testing a To-do List</a></li><li class="right-bar-li"><a href="/2013/05/12/how-to-easily-validate-any-form-ever-using-angularjs/">How to Easily Validate Any Form Ever Using AngularJS</a></li></ul></div></div><div class="row recent-posts right-bar-group"><div class="col-lg-12"><p class="right-bar-label">Recent Posts</p><ul class="list-unstyled"><li class="right-bar-li"><a href="/2015/01/17loopback-angularjs">Generating REST APIs and Clients with LoopBack and AngularJS</a></li><li class="right-bar-li"><a href="/2014/12/19mongoose-397">What's new in Mongoose 3.9.7</a></li><li class="right-bar-li"><a href="/2014/12/04new-blog-and-book-announcement">New Blog and Book Announcement</a></li><li class="right-bar-li"><a href="/2014/09/04defending-against-query-selector-injection-attacks">Defending Against Query Selector Injection Attacks</a></li></ul></div></div></div></div></div><div id="mobile-sharing-options" class="container-fluid hidden-sm hidden-md hidden-lg"><div class="row"><div class="col-lg-12"><div class="post-sharing-options"><div class="row"><div class="col-xs-3 twitter-share sharing-option"><a href="https://twitter.com/share?url=http%3A%2F%2Fwww.thecodebarbarian.com%2F2015%2F01%2F17%2Floopback-angularjs&amp;via=code_barbarian" class="social"><i class="fa fa-twitter"></i></a></div><div class="col-xs-3 facebook-share sharing-option"><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.thecodebarbarian.com%2F%2F2015%2F01%2F17%2Floopback-angularjs" class="social"><i class="fa fa-facebook"></i></a></div><div class="col-xs-3 google-share sharing-option"><a href="https://plus.google.com/share?url=http%3A%2F%2Fwww.thecodebarbarian.com%2F%2F2015%2F01%2F17%2Floopback-angularjs" class="social"><i class="fa fa-google-plus"></i></a></div><div class="col-xs-3 comment sharing-option"><a href="#disqus_thread" class="social"><i class="fa fa-comment"></i></a></div></div></div></div></div></div><div id="desktop-sharing-options" class="post-sharing-options hidden-xs pull-left"><ul class="list-unstyled"><li class="twitter-share"><a href="https://twitter.com/share?url=http%3A%2F%2Fwww.thecodebarbarian.com%2F2015%2F01%2F17%2Floopback-angularjs&amp;via=code_barbarian" class="social"><i class="fa fa-twitter sharing-option"></i></a></li><li class="facebook-share"><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.thecodebarbarian.com%2F%2F2015%2F01%2F17%2Floopback-angularjs" class="social"><i class="fa fa-facebook sharing-option"></i></a></li><li class="google-share"><a href="https://plus.google.com/share?url=http%3A%2F%2Fwww.thecodebarbarian.com%2F%2F2015%2F01%2F17%2Floopback-angularjs" class="social"><i class="fa fa-google-plus sharing-option"></i></a></li></ul></div><div class="container"><div class="col-lg-9 post-text"><div class="row"><div class="title-byline-container"><h1 class="post-title">Generating REST APIs and Clients with LoopBack and AngularJS </h1><div class="credits"><span class="byline">by Valeri Karpov</span><span class="byhandle"><a href="http://www.twitter.com/code_barbarian">@code_barbarian</a></span><span class="bydate">January 17, 2015</span></div></div></div><div class="post-body-text-container"><p>Recently, I&#39;ve been looking into <a href="http://strongloop.com/node-js/loopback-framework/">StrongLoop&#39;s LoopBack framework</a>. LoopBack generates Express REST APIs by asking you a few simple questions at the command line. LoopBack lets you swap out different storage layers. For each model you define, you can choose to store it in MongoDB, Oracle, MySQL, or Microsoft SQL Server (or even in memory). Say you decide to store your users in MongoDB but your user&#39;s gift cards in MySQL (for transactions). Even if you started writing your code with gift cards stored in MongoDB, LoopBack&#39;s database abstraction layer makes switching a one-liner. Furthermore, LoopBack has SDKs for generating REST API clients in AngularJS, Android, and iOS. In short, LoopBack is a powerful tool for generating REST APIs that you can extend to scaffold client-side code.</p>
<p>I&#39;m usually not particularly keen on application scaffolding. Scaffolding frameworks generate code that your application may not need. This means your new project already starts off bloated. Furthermore, clearing away the scaffolding requires learning the framework&#39;s internals. But, LoopBack has several sweet features that help offset these difficulties.</p>
<h2 id="setting-up-loopback">Setting Up LoopBack</h2>
<p>Before you dive into these features, you&#39;ll install LoopBack and create a new project. LoopBack comes with the <code>strongloop</code> npm module. StrongLoop recommends installing their npm module with the <code>-g</code> flag, but I avoid using <code>-g</code> where possible. You can install this module with <code>-g</code>, but it&#39;s not necessary. You&#39;ll want to go grab a cup of coffee, installing the <code>strongloop</code> module can take a few minutes.</p>
<p><code>mkdir loopback-example &amp;&amp; cd loopback-example &amp;&amp; npm install strongloop</code></p>
<p>You can now access StrongLoop&#39;s command-line tools through the <code>slc</code> command line utility. Since you didn&#39;t install with <code>-g</code>, the executable lives at <code>./node_modules/strongloop/bin/slc</code>. To create scaffolding for your new <code>loopback-example</code> app, run <code>./node_modules/strongloop/bin/slc loopback</code>. You should see the following output with StrongLoop v2.10.1:</p>
<pre><code>specter:loopback-example vkarpov$ ./node_modules/strongloop/bin/slc loopback

     _-----_
    |       |    .--------------------------.
    |--(o)--|    |  Let&#39;s create a LoopBack |
   `---------´   |       application!       |
    ( _´U`_ )    &#39;--------------------------&#39;
    /___A___\    
     |  ~  |     
   __&#39;.___.&#39;__   
 ´   `  |° ´ Y ` 

? What&#39;s the name of your application? loopback-example


I&#39;m all done. Running npm install for you to install the required dependencies. If this fails, try running the command yourself.
</code></pre><p>You can now use the LoopBack framework to create a database model. For the sake of minimizing this example&#39;s dependencies, you&#39;ll store your model in memory. For this example, you&#39;ll create a <code>Breakfast</code> model that will store good places to get some eggs and bacon in New York (which is surprisingly difficult to do given the number of places that think pastries are a breakfast food). You can create a new model by running <code>./node_modules/strongloop/bin/slc loopback:model</code>. StrongLoop will then ask you to add properties to your model. To keep it simple, add 2 properties: a name and an address.</p>
<pre><code>specter:loopback-example vkarpov$ ./node_modules/strongloop/bin/slc loopback:model
? Enter the model name: Breakfast
? Select the data-source to attach Breakfast to: db (memory)
? Select model&#39;s base class: PersistedModel
? Expose Breakfast via the REST API? Yes
? Custom plural form (used to build REST URL): BreakfastSpots
Let&#39;s add some Breakfast properties now.

Enter an empty property name when done.
? Property name: name
   invoke   loopback:property
? Property type: string
? Required? Yes

Let&#39;s add another Breakfast property.
Enter an empty property name when done.
? Property name: address
   invoke   loopback:property
? Property type: string
? Required? Yes

Let&#39;s add another Breakfast property.
Enter an empty property name when done.
? Property name:
</code></pre><p>You may not have noticed it, but you&#39;ve just created a very simple REST API. Run <code>./node_modules/strongloop/bin/slc run</code> to start up a web server, and navigate to <code>localhost:3000/explorer</code>. You should see a nice web UI with all your models and their corresponding REST API endpoints.</p>
<p><img src="//i.imgur.com/JrBuH78.png" style="width: 100%"></p>
<p>Here, you see that LoopBack generates basic documentation as well as routes. Generating documentation is a key feature that too many scaffolding frameworks ignore altogether. LoopBack&#39;s API Explorer, on the other hand, provides some basic API endpoint documentation that even lets you simulate HTTP requests.</p>
<p><img src="//i.imgur.com/VN2EXKt.png" style="width: 100%"></p>
<p>You can even use the API Explorer to add sample data.</p>
<p><img src="//i.imgur.com/zxkiYVX.png" style="width: 100%"></p>
<h2 id="integrating-the-loopback-angularjs-sdk">Integrating the LoopBack AngularJS SDK</h2>
<p>Bacon</p>
</div><div style="color: #666666; border-top: 1px dashed #666666; margin: 25px; text-align: center; padding-top: 10px"><em>Found a typo or error? Open up a pull request! This post is
available as markdown on&nbsp;<a href="https://github.com/vkarpov15/thecodebarbarian.com/blob/master/lib/posts/20150117_loopback_angularjs.md">Github</a></em></div><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'codebarbarian'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div></div><div style="padding-bottom: 100px">&nbsp;</div><script type="text/javascript">var _sf_async_config = { uid: 57424, domain: 'thecodebarbarian.com', useCanonical: true };
(function() {
  function loadChartbeat() {
    window._sf_endpt = (new Date()).getTime();
    var e = document.createElement('script');
    e.setAttribute('language', 'javascript');
    e.setAttribute('type', 'text/javascript');
    e.setAttribute('src','//static.chartbeat.com/js/chartbeat.js');
    document.body.appendChild(e);
  };
  var oldonload = window.onload;
  window.onload = (typeof window.onload != 'function') ?
    loadChartbeat : function() { oldonload(); loadChartbeat(); };
})();</script></body></html>